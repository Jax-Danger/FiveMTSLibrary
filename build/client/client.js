"use strict";(()=>{var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var C=I(n=>{var m=e=>new Promise(t=>setTimeout(t,e)),u=global.exports.TSLib;n("getDistance",(e,t)=>{let r=e[0]-t[0],a=e[1]-t[1],s=e[2]-t[2];return Math.sqrt(r*r+a*a+s*s)});n("getClosestPlayer",(e,t)=>{let r=GetActivePlayers(),a=-1,s=null,y=null;t=t||2;let g=PlayerId();for(let o=0;o<r.length;o++){let d=r[o];if(d!==g){let i=GetPlayerPed(d),P=GetEntityCoords(i,!0),f=u.getDistance(e,P);f<t&&(t=f,a=d,s=i,y=P)}}return{closestId:a,closestPed:s,closestCoords:y}});n("loadAnimDict",async e=>{for(RequestAnimDict(e);!HasAnimDictLoaded(e);)await m(100)});var l=!1;n("Handcuff",async()=>{let e=GetEntityCoords(PlayerPedId(),!0),r=n["MP-Police"].getClosestPlayer(e,2).closestId;if(r!==-1){let a=GetPlayerServerId(r);emitNet("Handcuff",a)}else console.log("No player found within the specified distance.")});onNet("Handcuff",async()=>{let e=GetPlayerPed(-1);l||(await u.loadAnimDict("mp_arresting"),TaskPlayAnim(e,"mp_arresting","idle",8,-8,-1,49,0,!1,!1,!1),SetEnableHandcuffs(e,!0),SetCurrentPedWeapon(e,GetHashKey("WEAPON_UNARMED"),!0),l=!0)});n("RemoveHandcuffs",async()=>{let e=GetEntityCoords(PlayerPedId(),!0),r=n["MP-Police"].getClosestPlayer(e,2).closestId;if(r!==-1){let a=GetPlayerServerId(r);emitNet("RemoveHandcuff",a)}else console.log("No player found within the specified distance.")});onNet("RemoveHandcuff",async()=>{let e=GetPlayerPed(-1);l&&(ClearPedSecondaryTask(e),SetEnableHandcuffs(e,!1),SetCurrentPedWeapon(e,GetHashKey("WEAPON_UNARMED"),!0),l=!1)});var p,b=-1,c=!1;n("DragPlayer",()=>{console.log("dragging player");let e=GetEntityCoords(PlayerPedId(),!0),r=n["MP-Police"].getClosestPlayer(e,2).closestId;if(r!==-1){let a=GetPlayerServerId(r);p=a,emitNet("Drag",a,GetPlayerServerId(PlayerId()))}else console.log("No player found within the specified distance.")});onNet("Drag",(e,t)=>{let r=GetPlayerServerId(PlayerId()),a=GetPlayerPed(-1);e===r&&(b=t,c=!c,c?SetEnableHandcuffs(a,!0):SetEnableHandcuffs(a,!1))})});C();})();
